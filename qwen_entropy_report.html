<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Qwen Token Metrics</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 20px;
      }
      h1 {
        font-size: 20px;
        margin-bottom: 10px;
      }
      pre {
        background: #f5f5f5;
        padding: 12px;
        border-radius: 6px;
        white-space: pre-wrap;
      }
      #token-strip {
        margin-top: 20px;
        font-family: "Courier New", monospace;
        display: flex;
        flex-wrap: wrap;
        gap: 4px;
      }
      .token {
        padding: 2px 4px;
        border-radius: 4px;
        background-color: #e8eef6;
        cursor: pointer;
      }
      .token.active {
        background-color: #1f77b4;
        color: white;
      }
      #metrics {
        margin-top: 14px;
        font-size: 14px;
      }
      canvas {
        max-width: 100%;
      }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
  </head>
  <body>
    <h1>Model Response</h1>
    <pre id="response">```python
import sys

def can_make_abc(s):
    # Check if the string is already &#x27;abc&#x27;
    if s == &#x27;abc&#x27;:
        return &quot;YES&quot;
    
    # Find the positions of &#x27;a&#x27;, &#x27;b&#x27;, and &#x27;c&#x27;
    pos_a = s.index(&#x27;a&#x27;)
    pos_b = s.index(&#x27;b&#x27;)
    pos_c = s.index(&#x27;c&#x27;)
    
    # Try swapping each pair of adjacent elements
    if pos_a + 1 == pos_b and pos_b + 1 == pos_c:
        return &quot;YES&quot;
    if pos_a + 1 == pos_c and pos_c + 1 == pos_b:
        return &quot;YES&quot;
    if pos_b + 1 == pos_a and pos_a + 1 == pos_c:
        return &quot;YES&quot;
    if pos_b + 1 == pos_c and pos_c + 1 == pos_a:
        return &quot;YES&quot;
    if pos_c + 1 == pos_a and pos_a + 1 == pos_b:
        return &quot;YES&quot;
    if pos_c + 1 == pos_b and pos_b + 1 == pos_a:
        return &quot;YES&quot;
    
    return &quot;NO&quot;

# Read input from stdin
input = sys.stdin.read
data = input().split()

# Number of test cases
t = int(data[0])

# Process each test case
results = []
for i in range(1, t + 1):
    s = data[i]
    result = can_make_abc(s)
    results.append(result)

# Write output to stdout
print(&quot;\n&quot;.join(results))
```&lt;|im_end|&gt;</pre>

    <h2>Token Metrics</h2>
    <div id="metrics">Hover a token below to view logprob & entropy.</div>
    <div id="token-strip"></div>
    <canvas id="metricChart" height="220"></canvas>

    <script>
      const data = {"indices": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 311, 312, 313, 314, 315, 316, 317, 318, 319, 320, 321, 322, 323, 324, 325, 326, 327, 328, 329, 330, 331, 332, 333], "tokens": ["```", "python", "\\n", "import", "▁sys", "\\n\\n", "def", "▁can", "_make", "_", "abc", "(s", "):\\n", "▁▁▁", "▁#", "▁Check", "▁if", "▁the", "▁string", "▁is", "▁already", "▁'", "abc", "'\\n", "▁▁▁", "▁if", "▁s", "▁==", "▁'", "abc", "':\\n", "▁▁▁▁▁▁▁", "▁return", "▁\"", "YES", "\"\\n", "▁▁▁▁\\n", "▁▁▁", "▁#", "▁Find", "▁the", "▁positions", "▁of", "▁'", "a", "',", "▁'", "b", "',", "▁and", "▁'", "c", "'\\n", "▁▁▁", "▁pos", "_a", "▁=", "▁s", ".index", "('", "a", "')\\n", "▁▁▁", "▁pos", "_b", "▁=", "▁s", ".index", "('", "b", "')\\n", "▁▁▁", "▁pos", "_c", "▁=", "▁s", ".index", "('", "c", "')\\n", "▁▁▁▁\\n", "▁▁▁", "▁#", "▁Try", "▁swapping", "▁each", "▁pair", "▁of", "▁adjacent", "▁elements", "\\n", "▁▁▁", "▁if", "▁pos", "_a", "▁+", "▁", "1", "▁==", "▁pos", "_b", "▁and", "▁pos", "_b", "▁+", "▁", "1", "▁==", "▁pos", "_c", ":\\n", "▁▁▁▁▁▁▁", "▁return", "▁\"", "YES", "\"\\n", "▁▁▁", "▁if", "▁pos", "_a", "▁+", "▁", "1", "▁==", "▁pos", "_c", "▁and", "▁pos", "_c", "▁+", "▁", "1", "▁==", "▁pos", "_b", ":\\n", "▁▁▁▁▁▁▁", "▁return", "▁\"", "YES", "\"\\n", "▁▁▁", "▁if", "▁pos", "_b", "▁+", "▁", "1", "▁==", "▁pos", "_a", "▁and", "▁pos", "_a", "▁+", "▁", "1", "▁==", "▁pos", "_c", ":\\n", "▁▁▁▁▁▁▁", "▁return", "▁\"", "YES", "\"\\n", "▁▁▁", "▁if", "▁pos", "_b", "▁+", "▁", "1", "▁==", "▁pos", "_c", "▁and", "▁pos", "_c", "▁+", "▁", "1", "▁==", "▁pos", "_a", ":\\n", "▁▁▁▁▁▁▁", "▁return", "▁\"", "YES", "\"\\n", "▁▁▁", "▁if", "▁pos", "_c", "▁+", "▁", "1", "▁==", "▁pos", "_a", "▁and", "▁pos", "_a", "▁+", "▁", "1", "▁==", "▁pos", "_b", ":\\n", "▁▁▁▁▁▁▁", "▁return", "▁\"", "YES", "\"\\n", "▁▁▁", "▁if", "▁pos", "_c", "▁+", "▁", "1", "▁==", "▁pos", "_b", "▁and", "▁pos", "_b", "▁+", "▁", "1", "▁==", "▁pos", "_a", ":\\n", "▁▁▁▁▁▁▁", "▁return", "▁\"", "YES", "\"\\n", "▁▁▁▁\\n", "▁▁▁", "▁return", "▁\"", "NO", "\"\\n\\n", "#", "▁Read", "▁input", "▁from", "▁stdin", "\\n", "input", "▁=", "▁sys", ".stdin", ".read", "\\n", "data", "▁=", "▁input", "().", "split", "()\\n\\n", "#", "▁Number", "▁of", "▁test", "▁cases", "\\n", "t", "▁=", "▁int", "(data", "[", "0", "])\\n\\n", "#", "▁Process", "▁each", "▁test", "▁case", "\\n", "results", "▁=", "▁[]\\n", "for", "▁i", "▁in", "▁range", "(", "1", ",", "▁t", "▁+", "▁", "1", "):\\n", "▁▁▁", "▁s", "▁=", "▁data", "[i", "]\\n", "▁▁▁", "▁result", "▁=", "▁can", "_make", "_", "abc", "(s", ")\\n", "▁▁▁", "▁results", ".append", "(result", ")\\n\\n", "#", "▁Write", "▁output", "▁to", "▁stdout", "\\n", "print", "(\"\\", "n", "\".", "join", "(results", "))\\n", "```", "<|im_end|>"], "entropies": [0.075078085064888, 0.000957264332100749, 0.0031547280959784985, 0.6853761672973633, 0.00785851664841175, 0.5415607690811157, 1.1220635175704956, 0.7484838962554932, 1.319076418876648, 0.007788057904690504, 0.003033958375453949, 0.9430450201034546, 0.005550306756049395, 4.221673952997662e-05, 1.9840679168701172, 1.3281917572021484, 0.22451619803905487, 0.20913171768188477, 0.5148072242736816, 0.15588927268981934, 0.026160739362239838, 0.6885010004043579, 0.00040555998566560447, 0.02072976529598236, 0.00012550204701256007, 0.00065622478723526, 0.0010248154867440462, 0.00021105576888658106, 0.5809913873672485, 0.0007286648033186793, 0.0011157810222357512, 1.0316771295038052e-05, 0.0005390237784013152, 0.8742674589157104, 0.0022869794629514217, 0.015994060784578323, 0.1361461579799652, 4.0931059629656374e-05, 0.02488742768764496, 1.6119991540908813, 0.8186177015304565, 0.6607570052146912, 0.0005594685790129006, 0.07804179191589355, 0.008183966390788555, 0.005608092062175274, 2.22440212382935e-05, 0.0003416988765820861, 0.0012372997589409351, 0.15942971408367157, 3.686727359308861e-05, 0.0001434287551091984, 0.05440961569547653, 3.8097154174465686e-05, 0.7284669280052185, 0.20919832587242126, 0.001369848963804543, 0.03663063794374466, 0.521011471748352, 0.00021393272618297487, 0.00014907991862855852, 0.00023924297420307994, 0.00017342882347293198, 0.00010394395212642848, 0.0005549700581468642, 1.4825822290731594e-05, 0.00014780026685912162, 0.0023571758065372705, 0.00015341474500019103, 0.000309216498862952, 0.0005542861763387918, 0.0014551361091434956, 8.344112575287e-05, 2.1182058844715357e-05, 1.6058691471698694e-05, 0.00017484446289017797, 0.002147300634533167, 0.0001671260833973065, 0.00043358196853660047, 0.007182059809565544, 0.0002268305397592485, 1.0206542356172577e-05, 0.00017803034279495478, 1.4871400594711304, 0.0254996195435524, 1.508400797843933, 0.004377849865704775, 0.8202617168426514, 1.5222251415252686, 1.0535844564437866, 0.7526113390922546, 0.00023463304387405515, 1.4742625951766968, 1.0195107460021973, 0.3699488639831543, 1.4231951236724854, 0.029528483748435974, 0.006908344104886055, 0.6242110133171082, 0.0013219675747677684, 0.01765979267656803, 0.8493528366088867, 0.08354240655899048, 0.13534843921661377, 0.03951963037252426, 8.286640513688326e-05, 0.0008064646390266716, 0.022531062364578247, 0.000222500748350285, 0.0009669333812780678, 0.07340904325246811, 0.00028725157608278096, 0.30690997838974, 0.0029000253416597843, 0.5199402570724487, 0.1035255715250969, 0.40770775079727173, 0.3709755837917328, 0.10627497732639313, 0.19354648888111115, 0.7588364481925964, 0.001142871449701488, 0.3681187927722931, 0.011451308615505695, 0.00027947116177529097, 0.23272092640399933, 0.15010012686252594, 0.527789831161499, 0.7407824993133545, 0.7464318871498108, 0.0035785380750894547, 0.021179089322686195, 0.026008127257227898, 0.0004440330667421222, 0.03978758305311203, 0.06566261500120163, 0.00030595622956752777, 0.10792939364910126, 0.001297438982874155, 0.10027766972780228, 0.006351597141474485, 0.11284124851226807, 0.0019390302477404475, 0.0031489620450884104, 0.800101637840271, 0.2094389647245407, 6.939100421732292e-05, 0.0004037618637084961, 0.0010479992488399148, 0.00037242076359689236, 0.3088088929653168, 0.001226489432156086, 0.0005114119849167764, 0.0052460613660514355, 0.0020464747212827206, 7.11731263436377e-05, 0.0011131394421681762, 0.0005636881105601788, 0.0002018188388319686, 0.004470511805266142, 0.0010520040523260832, 0.00024680947535671294, 0.0006077010184526443, 0.00013090080756228417, 0.011473570950329304, 0.006106481421738863, 0.5763853788375854, 0.005887787789106369, 0.00021829275647178292, 0.051586247980594635, 0.0010935774771496654, 5.804025204270147e-05, 0.00016941175272222608, 0.0003752676711883396, 0.001627732184715569, 0.002308507449924946, 0.0004808531084563583, 0.0002832957252394408, 0.000647418200969696, 0.0006742214900441468, 7.967320561874658e-05, 0.00016045047959778458, 0.0007193686906248331, 0.00046864329488016665, 0.0011608217610046268, 0.0004299480642657727, 0.0003692495811264962, 0.0002619010047055781, 8.472174522466958e-05, 0.0046022068709135056, 0.0014276503352448344, 0.19497103989124298, 0.0006235694163478911, 0.00020650030637625605, 0.010990587994456291, 0.00013127618876751512, 5.5195432651089504e-05, 3.0915620300220326e-05, 0.0009258283535018563, 0.00022834446281194687, 0.01931861788034439, 0.00017522436974104494, 0.00020617793779820204, 0.0005702695925720036, 0.0005195859703235328, 4.3112766434205696e-05, 2.0944527932442725e-05, 0.00025212124455720186, 0.00016715560923330486, 0.0003995574079453945, 0.00032200440182350576, 0.0003086372453253716, 0.00027288738056086004, 7.9634744906798e-05, 0.001214926945976913, 0.0012051278026774526, 0.12159843742847443, 0.0007659377297386527, 0.00010710562492022291, 0.000958869990427047, 8.372942102141678e-05, 5.6546643463661894e-05, 1.3968231542094145e-05, 0.00037192291347309947, 0.0006050548981875181, 0.0004011301207356155, 0.0001186739100376144, 0.00022390250524040312, 0.0007023186190053821, 0.0010809969389811158, 7.90153062553145e-05, 5.674006388289854e-05, 0.0004566245770547539, 0.00027706855325959623, 0.0009492038516327739, 0.0003651003062259406, 0.0003045561024919152, 0.00020318781025707722, 0.0001134292469942011, 0.002795792417600751, 0.005649090278893709, 0.002949996618553996, 0.0001187590096378699, 0.2553665339946747, 0.00022447408991865814, 0.0012078308500349522, 0.0003023217723239213, 0.5839220285415649, 0.018322482705116272, 0.03882066160440445, 0.7093955874443054, 0.3185855448246002, 0.024819612503051758, 0.15513142943382263, 0.7128112316131592, 0.005133947357535362, 3.148980613332242e-05, 0.0006005410687066615, 0.15392953157424927, 0.002581600332632661, 0.00013420598406810313, 0.000559213338419795, 0.0011119324481114745, 0.018663011491298676, 0.3515467345714569, 0.3283538818359375, 0.8440691232681274, 8.40348093333887e-06, 0.0007042427314445376, 0.0001637065433897078, 0.0003144770162180066, 0.15188387036323547, 0.00010666451271390542, 0.0027584354393184185, 4.911322321277112e-05, 0.006335984915494919, 9.66349762165919e-06, 0.32223793864250183, 0.4757187068462372, 0.18707650899887085, 0.0012147431261837482, 0.0005167616764083505, 3.3383435948053375e-05, 0.004053511656820774, 0.17300541698932648, 7.436737359967083e-05, 0.17097392678260803, 0.10894034802913666, 0.0013160175876691937, 0.00012144314678153023, 1.4028188161319122e-05, 0.6908248662948608, 0.0025937433820217848, 0.0002694808063097298, 0.5887872576713562, 0.41689661145210266, 5.01435024489183e-05, 0.00024581525940448046, 0.0005726849194616079, 0.0002266144729219377, 0.5590016841888428, 0.00011560723942238837, 5.331636202754453e-05, 0.023418501019477844, 0.006089339964091778, 0.00014772276335861534, 0.6780674457550049, 6.183268851600587e-05, 0.00012709169823210686, 0.0005009003798477352, 0.0003303186967968941, 9.629783744458109e-05, 0.0002012352633755654, 7.151346653699875e-05, 5.1902821724070236e-05, 1.4979978004703298e-05, 1.6784966646810062e-05, 2.4013199436012655e-05, 0.0001827763335313648, 0.0001925767573993653, 0.5393829345703125, 0.6506448984146118, 0.0020535339135676622, 0.00812608003616333, 0.0003908617945853621, 1.0583752393722534, 0.8122943043708801, 1.0844949429156259e-05, 8.310436533065513e-05, 9.11760434973985e-05, 6.914365258126054e-06, 0.006824958603829145, 0.11202956736087799, 0.0016200378304347396], "logprobs": [-0.010718277655541897, -7.4741430580616e-05, -0.0002971446083392948, -0.2801160216331482, -0.000871040450874716, -0.23468859493732452, -0.7683376669883728, -0.2278577834367752, -0.5610031485557556, -0.0007775382255204022, -0.0003081085451412946, -0.5323079228401184, -0.0005289109540171921, -2.622600959512056e-06, -0.9978625774383545, -0.6491105556488037, -0.04244695603847504, -0.03903347626328468, -0.13343453407287598, -0.027030542492866516, -0.00336651923134923, -0.18514157831668854, -3.182837463100441e-05, -0.002905910834670067, -8.940656698541716e-06, -4.8040190449682996e-05, -8.618460560683161e-05, -1.4305012882687151e-05, -0.31100499629974365, -6.16293036728166e-05, -9.321732068201527e-05, -7.152555099310121e-07, -4.3748852476710454e-05, -0.4253787398338318, -0.00020597243565134704, -0.002235058695077896, -0.03058576211333275, -2.50339189733495e-06, -0.0029432333540171385, -0.8957757353782654, -0.3202347457408905, -0.2655791640281677, -4.4225667807040736e-05, -0.011371324770152569, -0.00086198840290308, -0.0006709231529384851, -1.311301275563892e-06, -2.4914430468925275e-05, -0.00011705666838679463, -0.03796280175447464, -1.9073468138230965e-06, -8.940656698541716e-06, -0.009484706446528435, -2.50339189733495e-06, -0.1998981088399887, -0.05262402445077896, -0.00013755806139670312, -0.004090751986950636, -0.23882988095283508, -1.7046782886609435e-05, -9.894321920000948e-06, -1.8954096958623268e-05, -1.2755313036905136e-05, -7.152531907195225e-06, -4.994744449504651e-05, -8.344646857949556e-07, -9.417489309271332e-06, -0.00022480344341602176, -1.0847986231965479e-05, -2.312633478140924e-05, -4.470248313737102e-05, -0.00014137222024146467, -5.483612312673358e-06, -1.1920922133867862e-06, -8.344646857949556e-07, -1.1324817933200393e-05, -0.0001911934232339263, -1.168244216387393e-05, -3.290122185717337e-05, -0.0008544846205040812, -1.7404405298293568e-05, -4.768370445162873e-07, -1.2755313036905136e-05, -0.6102244853973389, -0.0032400989439338446, -1.038417935371399, -0.0004401430196594447, -0.5459223389625549, -1.207040786743164, -0.5357066988945007, -0.4497787654399872, -1.4662635294371285e-05, -0.675125777721405, -0.385509729385376, -0.10626116394996643, -0.7520256042480469, -0.004251489415764809, -0.0008170842193067074, -0.32918673753738403, -0.00011991735664196312, -0.002262772060930729, -0.42689481377601624, -0.012147730216383934, -0.024905283004045486, -0.005120022222399712, -4.887569048150908e-06, -7.593343616463244e-05, -0.0030999958980828524, -1.5735502529423684e-05, -7.629103492945433e-05, -0.01068195141851902, -2.1219027985353023e-05, -0.07401271164417267, -0.0002401778765488416, -0.21458028256893158, -0.02035163901746273, -0.15073908865451813, -0.12679553031921387, -0.01774424873292446, -0.03778500854969025, -0.2949724495410919, -7.164221460698172e-05, -0.12748512625694275, -0.0013423488708212972, -2.002696055569686e-05, -0.057062987238168716, -0.029259085655212402, -0.19948932528495789, -0.26555612683296204, -0.6028558015823364, -0.0002640137099660933, -0.0030920335557311773, -0.0031652371399104595, -3.099393507000059e-05, -0.006267535034567118, -0.01004981528967619, -2.2172682292875834e-05, -0.017411593347787857, -8.689979586051777e-05, -0.01829768717288971, -0.0007115454645827413, -0.023985108360648155, -0.00016211149340961128, -0.00028772983932867646, -0.41515234112739563, -0.05420829355716705, -4.0531076592742465e-06, -3.45700973412022e-05, -8.487341256113723e-05, -2.6702524337451905e-05, -0.09105459600687027, -0.00011062010162277147, -3.755022044060752e-05, -0.0005088941543363035, -0.00019095504831057042, -3.933898824470816e-06, -0.00010954733443213627, -4.339123915997334e-05, -1.4066597032069694e-05, -0.0004644507134798914, -8.380061626667157e-05, -1.7881233361549675e-05, -4.470248313737102e-05, -8.106198947643861e-06, -0.0014303225325420499, -0.0005557184922508895, -0.29684293270111084, -0.0006501944735646248, -1.4781842764932662e-05, -0.008035711944103241, -0.00010084597306558862, -2.9802276912960224e-06, -1.3589766240329482e-05, -2.753696753643453e-05, -0.00014685506175737828, -0.0002029928145930171, -3.8265450712060556e-05, -2.038458114839159e-05, -4.970903682988137e-05, -5.4596363042946905e-05, -4.0531076592742465e-06, -1.2755313036905136e-05, -5.543078441405669e-05, -3.516612196108326e-05, -9.476689592702314e-05, -3.0517112463712692e-05, -2.777537883957848e-05, -1.728519782773219e-05, -5.125986263010418e-06, -0.0004913791781291366, -0.00011526874004630372, -0.049554355442523956, -4.756337511935271e-05, -1.4185804502631072e-05, -0.0013738964917138219, -9.536697689327411e-06, -2.861018856492592e-06, -2.0265558760002023e-06, -7.211902266135439e-05, -1.6093124941107817e-05, -0.002421425189822912, -1.1444026313256472e-05, -1.4662635294371285e-05, -4.3748852476710454e-05, -4.2199197196168825e-05, -2.50339189733495e-06, -1.311301275563892e-06, -1.7404405298293568e-05, -1.156323378381785e-05, -3.0278701160568744e-05, -2.2411095415009186e-05, -2.2291887944447808e-05, -1.8000440832111053e-05, -4.768360213347478e-06, -0.00010692501382436603, -9.500529267825186e-05, -0.02644488401710987, -6.246371776796877e-05, -7.271740287251305e-06, -7.962863310240209e-05, -5.483612312673358e-06, -2.7418097943154862e-06, -7.152555099310121e-07, -2.634490556374658e-05, -4.625213477993384e-05, -3.099393507000059e-05, -7.867782187531702e-06, -1.5735502529423684e-05, -5.531158240046352e-05, -9.250213042832911e-05, -4.410734163684538e-06, -3.814689989667386e-06, -3.433168603805825e-05, -1.9073304429184645e-05, -7.557583012385294e-05, -2.52720492426306e-05, -2.2291887944447808e-05, -1.3470558769768104e-05, -6.794906312279636e-06, -0.00027926836628466845, -0.0005660838796757162, -0.0002847504511009902, -7.390948667307384e-06, -0.07008839398622513, -1.6093124941107817e-05, -0.00010299152199877426, -2.1576648578047752e-05, -0.16418473422527313, -0.0020199865102767944, -0.005338104907423258, -0.3399210274219513, -0.07847863435745239, -0.003679055953398347, -0.025511600077152252, -0.1519951969385147, -0.0004670721245929599, -2.0265558760002023e-06, -4.768258077092469e-05, -0.028626887127757072, -0.00022980909852776676, -7.510157047363464e-06, -4.446407547220588e-05, -9.881961887003854e-05, -0.002644615015015006, -0.10512740164995193, -0.0850396677851677, -0.37997227907180786, -4.768370445162873e-07, -5.686121585313231e-05, -1.2874520507466514e-05, -2.3483953555114567e-05, -0.02876589260995388, -5.960446742392378e-06, -0.0002803409588523209, -3.2186455882765586e-06, -0.0007715824176557362, -5.960462772236497e-07, -0.10334989428520203, -0.17534863948822021, -0.027356186881661415, -0.00010859376925509423, -3.755022044060752e-05, -2.264974000354414e-06, -0.0004483648226596415, -0.03332608938217163, -5.245195097813848e-06, -0.040849994868040085, -0.01921597309410572, -0.00010644822759786621, -5.722029527532868e-06, -8.344646857949556e-07, -0.6109979152679443, -0.00024482590379193425, -1.7881233361549675e-05, -0.23356686532497406, -0.10957678407430649, -2.7418097943154862e-06, -2.0146166207268834e-05, -4.351044481154531e-05, -1.6331539882230572e-05, -0.14052529633045197, -6.437280717364047e-06, -3.3378546504536644e-06, -0.0033924193121492863, -0.0006342306733131409, -1.0609570381348021e-05, -0.5295844674110413, -3.099436753473128e-06, -8.583032467868179e-06, -3.981510963058099e-05, -2.396077979938127e-05, -6.556489552167477e-06, -1.2874520507466514e-05, -4.410734163684538e-06, -3.4570634852570947e-06, -8.344646857949556e-07, -1.0728830375228426e-06, -1.4305104514278355e-06, -1.1920858014491387e-05, -1.4781842764932662e-05, -0.1908794641494751, -0.22802606225013733, -0.00018988236843142658, -0.0009037939016707242, -2.884823152271565e-05, -0.7930969595909119, -0.6205265522003174, -7.152555099310121e-07, -5.602820692729438e-06, -6.794906312279636e-06, -4.768370445162873e-07, -0.0007088055717758834, -0.02328725904226303, -9.870042413240299e-05]};
      const strip = document.getElementById("token-strip");
      const metrics = document.getElementById("metrics");

      let activeIndex = null;

      function renderTokens() {
        strip.innerHTML = "";
        data.tokens.forEach((tok, idx) => {
          const span = document.createElement("span");
          span.className = "token";
          span.dataset.index = idx;
          span.textContent = tok || "∅";
          span.addEventListener("mouseenter", () => highlightPoint(idx));
          span.addEventListener("mouseleave", () => clearHighlight());
          span.addEventListener("click", () => lockHighlight(idx));
          strip.appendChild(span);
        });
      }

      const ctx = document.getElementById("metricChart").getContext("2d");
      const chart = new Chart(ctx, {
        type: "line",
        data: {
          labels: data.indices,
          datasets: [
            {
              label: "Entropy (nats)",
              data: data.entropies,
              borderColor: "#ff7f0e",
              backgroundColor: "rgba(255,127,14,0.15)",
              tension: 0.25,
              pointRadius: 3,
            },
            {
              label: "Logprob (ln)",
              data: data.logprobs,
              borderColor: "#1f77b4",
              backgroundColor: "rgba(31,119,180,0.15)",
              tension: 0.2,
              pointRadius: 3,
            }
          ]
        },
        options: {
          interaction: { mode: "nearest", intersect: false },
          responsive: true,
          plugins: {
            legend: { position: "top" },
            tooltip: {
              callbacks: {
                title: (items) => "Token #" + items[0].dataIndex,
                label: (item) => {
                  const idx = item.dataIndex;
                  return [
                    "Token: " + (data.tokens[idx] || "∅"),
                    "Entropy: " + data.entropies[idx].toFixed(4),
                    "Logprob: " + data.logprobs[idx].toFixed(4),
                  ];
                }
              }
            }
          },
          scales: {
            x: { title: { display: true, text: "Token index" } },
            y: { title: { display: true, text: "Value" } }
          }
        }
      });

      function updateMetrics(idx) {
        metrics.textContent = "Token #" + idx +
          " | token='" + (data.tokens[idx] || "∅") +
          "' | entropy=" + data.entropies[idx].toFixed(4) +
          " | logprob=" + data.logprobs[idx].toFixed(4);
      }

      function highlightPoint(idx) {
        if (activeIndex !== null) {
          strip.children[activeIndex].classList.remove("active");
        }
        strip.children[idx].classList.add("active");
        activeIndex = idx;
        updateMetrics(idx);
      }

      function clearHighlight() {
        if (activeIndex !== null) {
          strip.children[activeIndex].classList.remove("active");
          activeIndex = null;
        }
        metrics.textContent = "Hover a token below to view logprob & entropy.";
      }

      function lockHighlight(idx) {
        highlightPoint(idx);
      }

      renderTokens();
    </script>
  </body>
</html>
